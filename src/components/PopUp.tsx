import React, { useEffect, useState } from "react";
import { useNavigate } from "react-router-dom";

const PopUp: React.FC = () => {
  const [open, setOpen] = useState(false);
  const navigate = useNavigate();

  // Show on first render (page load / refresh)
  useEffect(() => {
    setOpen(true);
  }, []);

  if (!open) return null;

  return (
    <div className="fixed inset-0 z-[1000] flex items-center justify-center bg-black/50 px-4">
      {/* Click outside to close */}
      <div
        className="absolute inset-0"
        onClick={() => setOpen(false)}
        aria-hidden
      />
      <div className="relative z-[1001] flex max-w-5xl overflow-hidden rounded-2xl bg-white shadow-xl">
        {/* LEFT IMAGE */}
        <div className="hidden md:block ">
          <img
            src="https://media.onlinefrenchskool.com/popupimage.svg" /* change to your asset */
            alt="Learning"
            className="object-cover"
          />
        </div>

        {/* RIGHT CONTENT */}
        <div className="p-8 md:p-10 relative ">
          {/* Close */}
          <button
            onClick={() => setOpen(false)}
            className="absolute right-4 top-4 text-gray-400 hover:text-gray-600"
            aria-label="Close popup"
          >
            ✕
          </button>

          {/* Small logo */}
          <div className="mb-4">
<svg xmlns="http://www.w3.org/2000/svg" width="75" height="48" viewBox="0 0 75 48" fill="none">
  <path d="M42.9372 23.1654H47.9094V24.4601H44.3498V26.4636H47.4913V27.7577H44.3498V31.0448H42.9372V23.1654Z" fill="#022850"/>
  <path d="M48.3997 25.4166H49.6878V31.0442H48.3997V25.4166ZM51.6088 25.3487V26.5198C50.4506 26.409 49.6354 26.9914 49.6878 28.2194H49.3372C49.3524 26.4758 49.8398 25.2008 51.6082 25.3487H51.6088Z" fill="#022850"/>
  <path d="M54.656 31.2025C51.9261 31.3046 50.6986 27.9409 52.5032 26.0865C54.5477 24.1962 57.8505 25.6869 57.3223 28.5796H52.7233V27.6225H56.2596L56.0902 27.7803C56.0814 26.0297 53.5013 25.8719 53.0279 27.4537C52.707 28.3394 52.9912 29.5784 53.9432 29.9409C54.7369 30.2588 55.7513 30.0256 56.1804 29.2431L57.1069 29.9636C56.5211 30.7919 55.6843 31.2037 54.6548 31.202L54.656 31.2025Z" fill="#022850"/>
  <path d="M61.8171 27.8371C61.919 26.5233 60.557 25.9937 59.6812 26.8354C59.0063 27.4073 59.4128 30.253 59.3086 31.0448H58.0205V25.4172H59.3086V26.4862H59.1164C59.6539 25.1161 61.5504 24.8563 62.5176 25.8841C63.5209 26.7716 62.9736 29.8737 63.1052 31.0448H61.8171V27.8371Z" fill="#022850"/>
  <path d="M63.9658 27.032C64.7548 24.8162 68.3942 24.6051 69.3049 26.8238L68.1974 27.398C67.4439 25.7014 64.9598 26.4311 65.0559 28.231C64.9592 30.0517 67.4992 30.7692 68.2084 29.0187L69.3154 29.5697C68.7605 31.0581 66.9204 31.5378 65.5246 30.9827C63.9763 30.4218 63.3707 28.4856 63.9652 27.0314L63.9658 27.032Z" fill="#022850"/>
  <path d="M73.6792 27.8371C73.7805 26.5239 72.4197 25.9932 71.5433 26.8354C70.8684 27.4073 71.2748 30.253 71.1706 31.0448H69.8826V22.9178H71.1706V26.4856H70.9785C71.5159 25.1161 73.4125 24.8551 74.3797 25.8835C75.3824 26.771 74.835 29.8731 74.9666 31.0442H73.6786V27.8365L73.6792 27.8371Z" fill="#022850"/>
  <path d="M44.5787 20.941C41.9216 19.952 41.316 16.104 43.279 14.1811C45.8574 11.6666 50.4156 13.4062 50.3021 17.1307C50.3959 20.1515 47.3038 22.0593 44.5787 20.941ZM47.3021 19.7252C50.386 18.1863 48.621 13.1985 45.1441 14.5355C43.718 15.0889 43.2417 16.9079 43.7483 18.2501C44.217 19.6678 45.9698 20.3064 47.3021 19.7252Z" fill="#022850"/>
  <path d="M55.0048 17.8621C55.1061 16.5483 53.7447 16.0187 52.8689 16.8604C52.194 17.4329 52.6004 20.2786 52.4962 21.0703H51.2082V15.4416H52.4962V16.5112H52.3041C52.8409 15.1411 54.7387 14.8801 55.7053 15.9091C56.7086 16.7954 56.1612 19.8992 56.2928 21.0697H55.0048V17.8615V17.8621Z" fill="#022850"/>
  <path d="M57.214 21.0703V12.9433H58.5021V21.0703H57.214Z" fill="#022850"/>
  <path d="M60.1063 14.4967C59.0413 14.5222 59.0314 12.8517 60.0952 12.8644C61.1888 12.8273 61.1964 14.5216 60.1063 14.4967ZM59.4623 21.0703H60.7503V15.4416H59.4623V21.0703Z" fill="#022850"/>
  <path d="M65.5077 17.8621C65.6091 16.5483 64.2476 16.0187 63.3719 16.8604C62.697 17.4329 63.1034 20.2786 62.9992 21.0703H61.7111V15.4416H62.9992V16.5112H62.807C63.3439 15.1411 65.2416 14.8801 66.2082 15.9091C67.2115 16.7954 66.6642 19.8992 66.7958 21.0697H65.5077V17.8615V17.8621Z" fill="#022850"/>
  <path d="M70.4107 21.2275C67.6803 21.3302 66.4534 17.9659 68.2579 16.1115C70.303 14.2212 73.604 15.7113 73.0777 18.6046H68.4786V17.6481H72.0155L71.8461 17.8052C71.8368 16.0547 69.2566 15.8969 68.7838 17.4793C68.4623 18.365 68.7477 19.6034 69.6991 19.9665C70.4934 20.2844 71.5072 20.0512 71.9369 19.2687L72.8628 19.9885C72.277 20.8168 71.4402 21.2287 70.4113 21.2269L70.4107 21.2275Z" fill="#022850"/>
  <path d="M43.5526 40.7042C42.9913 40.3742 42.5598 39.8904 42.2588 39.253L43.4339 38.5772C44.3848 40.9171 48.4376 39.8452 46.8805 38.1892C46.0286 37.6184 44.7528 37.5911 43.824 37.1143C42.7456 36.6845 42.3362 35.38 42.8352 34.3394C43.304 33.3493 44.4238 32.9583 45.5016 32.9606C46.8595 32.9583 47.9036 33.5181 48.5412 34.6938L47.3883 35.369C46.4892 33.3127 42.8929 34.3371 44.3714 35.8139C45.5429 36.5256 47.3923 36.3504 48.2926 37.5587C48.7194 38.0697 48.7229 39.1399 48.4172 39.7535C47.6066 41.4252 44.9705 41.5273 43.5526 40.7042Z" fill="#022850"/>
  <path d="M50.6457 41.0192H49.3576V32.8922H50.6457V41.0192ZM54.465 35.3916L50.4873 39.5221V37.9577L52.8939 35.3916H54.465ZM51.3007 38.2843L52.1253 37.4734L54.5325 41.0192H53.1199L51.3007 38.2843Z" fill="#022850"/>
  <path d="M57.3998 41.1776C55.2022 41.2495 53.8355 38.9699 54.6373 37.0181C55.4933 34.6584 59.2963 34.6555 60.1517 37.0181C60.9582 38.9426 59.577 41.2622 57.4004 41.177L57.3998 41.1776ZM57.3998 39.9954C59.6137 40.0076 59.6073 36.3876 57.3887 36.416C55.1882 36.3968 55.1963 40.0262 57.3998 39.9954Z" fill="#022850"/>
  <path d="M63.7701 41.1776C61.5725 41.2495 60.2059 38.9699 61.0077 37.0181C61.8637 34.6584 65.6667 34.6555 66.5221 37.0181C67.3286 38.9426 65.9474 41.2622 63.7707 41.177L63.7701 41.1776ZM63.7701 39.9954C65.9841 40.0076 65.9777 36.3876 63.7591 36.416C61.5586 36.3968 61.5667 40.0262 63.7701 39.9954Z" fill="#022850"/>
  <path d="M67.4247 41.0192V32.8922H68.7127V41.0192H67.4247Z" fill="#022850"/>
  <path d="M34.3855 41.1961C34.3354 41.2066 34.2754 41.2066 34.2253 41.2066H28.6976C27.5999 41.2066 26.7096 42.1097 26.7096 43.2234V47.3278C26.7096 47.8898 26.069 48.2031 25.6358 47.8521L17.9733 41.6462C17.621 41.3609 17.1837 41.206 16.7336 41.206H2.79621C1.25195 41.206 0 39.9357 0 38.3684V16.1875C0 14.6202 1.25195 13.3499 2.79621 13.3499H7.41619V31.9508C7.41619 33.3035 8.31817 34.4833 9.61088 34.8185L32.9123 40.9003L33.7042 41.1039C33.9348 41.1648 34.1654 41.1955 34.3855 41.1955V41.1961Z" fill="#FFEE70"/>
  <path d="M32.9123 40.9015L9.61088 34.8197C8.31817 34.4838 7.41619 33.3046 7.41619 31.952V8.97755C7.41619 7.03498 9.22016 5.62142 11.0742 6.09937L15.7443 7.31979V26.3887C15.7443 27.3853 16.2054 28.3313 16.9968 28.9311L32.3608 40.5656C32.5413 40.6979 32.7218 40.8098 32.9123 40.9015Z" fill="#38B9F2"/>
  <path d="M37.3622 14.8151V38.2367C37.3622 38.3382 37.3622 38.4299 37.3523 38.5215C37.2824 39.9554 36.1498 41.1149 34.7366 41.1961C34.6364 41.1961 34.5462 41.2066 34.446 41.2066C34.4262 41.2066 34.4059 41.2066 34.3861 41.1961C34.1654 41.1961 33.9348 41.1654 33.7048 41.1045L32.9128 40.9009C32.7224 40.8092 32.5419 40.6973 32.3614 40.565L16.9974 28.9305C16.2054 28.3302 15.7448 27.3847 15.7448 26.3882V3.18059C15.7448 0.566909 18.6715 -0.927866 20.7358 0.638254L36.0998 12.2728C36.8917 12.8726 37.3628 13.8186 37.3628 14.8151H37.3622Z" fill="#4A3CF3"/>
</svg>
          </div>

          <h2 className="text-[28px] md:text-[32px] font-bold text-gray-900 leading-snug">
            Wait! Don’t Leave Without <br /> Trying a Free French Class
          </h2>

          <p className="mt-4 text-gray-600 text-sm md:text-base">
            Experience our teaching style with a free trial before you decide.
          </p>

          <button
            onClick={() => {
              setOpen(false);
              navigate("/contact_us");
            }}
            className="mt-6 inline-flex items-center justify-center rounded-xl px-6 py-3 font-semibold text-[#38400D] transition"
            style={{ background: "#D3E373" }}
          >
            Book My Free Trial
            <span className="ml-2">→</span>
          </button>
        </div>
      </div>
    </div>
  );
};

export default PopUp;
